{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>資訊中心</h2>
    
    <!-- 天氣資訊 -->
    <div class="row">
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5>今日天氣</h5>
                </div>
                <div class="card-body">
                    {% if weather %}
                        <h6>{{ weather.city }}</h6>
                        <p><strong>{{ weather.temp }}°C</strong></p>
                        <p>{{ weather.weather }}</p>
                        <a href="{{ url_for('info.weather_page') }}" class="btn btn-sm btn-primary">詳細天氣</a>
                    {% else %}
                        <p>無法取得天氣資訊</p>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- 新聞資訊 -->
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5>即時新聞</h5>
                </div>
                <div class="card-body">
                    {% if articles %}
                        {% for article in articles[:3] %}
                        <div class="mb-3">
                            <h6><a href="{{ article.url }}" target="_blank" class="text-decoration-none">{{ article.title[:60] }}{% if article.title|length > 60 %}...{% endif %}</a></h6>
                            <small class="text-muted">{{ article.source.name }} · {{ article.publishedAt }}</small>
                        </div>
                        {% endfor %}
                        <a href="{{ url_for('info.news_page') }}" class="btn btn-sm btn-primary">更多新聞</a>
                    {% else %}
                        <p>無法取得新聞資訊</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <a href="{{ url_for('dashboard.dashboard_view') }}" class="btn btn-secondary mt-4">← 返回主頁</a>
</div>
{% endblock %}