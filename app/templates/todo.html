{% extends 'base.html' %}
{% block title %}代辦清單{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">📝 我的代辦清單</h2>

    <form method="POST" class="input-group mb-3">
        <input type="text" name="content" class="form-control" placeholder="新增事項..." required>
        <button class="btn btn-primary" type="submit">新增</button>
    </form>

    <ul class="list-group">
        {% for item in todos %}
        <li class="list-group-item d-flex justify-content-between align-items-center {% if item.done %}list-group-item-success{% endif %}">
            <span class="{% if item.done %}text-decoration-line-through{% endif %}">{{ item.content }}</span>
            <div>
                <a href="{{ url_for('todo_bp.toggle_todo', id=item.id) }}" class="btn btn-sm btn-outline-success">完成</a>
                <a href="{{ url_for('todo_bp.delete_todo', id=item.id) }}" class="btn btn-sm btn-outline-danger">刪除</a>
            </div>
        </li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('dashboard.dashboard_view') }}" class="btn btn-secondary mt-4">← 返回主頁</a>
</div>
{% endblock %}
